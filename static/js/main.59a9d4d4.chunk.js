(this.webpackJsonptree=this.webpackJsonptree||[]).push([[0],{32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(7),i=n.n(o),r=(n(32),n(14)),s=n(6),l=n(43),d=n(44),j=n(42),u=n(16),b=n(1),h={height:700,background:"white",width:1376},p=function(e){e.fitView({padding:.1,includeHiddenNodes:!0})};var O=function(e){return console.log(e.data),Object(b.jsx)("div",{children:Object(b.jsx)(u.b,{onLoad:p,nodeTypes:"output",elements:e.data,style:h,data:{text:"hello"},children:Object(b.jsx)(u.a,{})})})};function x(e){return console.log(e.data),Object(b.jsx)("div",{style:{color:"Gray",border:"solid",backgroundColor:"white"},children:Object(b.jsx)("pre",{style:{"user-select":"auto"},children:JSON.stringify(e.data,null,2)})})}n(18);var m=n(20),g=n.n(m),y=n(3),v=n(25);function f(){var e=y.GraphObject.make,t=e(y.Diagram,{"undoManager.isEnabled":!0,"clickCreatingTool.archetypeNodeData":{text:"new node",color:"lightblue"},model:e(y.TreeModel)});return t.nodeTemplate=t.nodeTemplate=e(y.Node,"Auto",e(y.Shape,"RoundedRectangle"),e(y.TextBlock,new y.Binding("text","text"),{font:"bold 11pt Lato, Helvetica, Arial, sans-serif",stroke:"white"},{isMultiline:!0,margin:8})),t.linkTemplate=e(y.Link,{routing:y.Link.AvoidsNodes,curve:y.Link.JumpOver},e(y.Shape,{toArrow:"Standard",strokeWidth:3})),t.layout=e(y.TreeLayout),t}function A(e){console.log(e)}function C(e){return console.log(e),Object(b.jsx)("div",{children:Object(b.jsx)(v.a,{initDiagram:f,divClassName:"diagram-component",nodeDataArray:e.data,onModelChange:A})})}function T(){var e=Object(a.useState)({}),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),i=Object(s.a)(o,2),u=i[0],h=i[1],p=Object(a.useState)(""),m=Object(s.a)(p,2),y=m[0],v=m[1],f=Object(a.useState)(!1),A=Object(s.a)(f,2),T=A[0],k=A[1];var N=new Map,S=[],w=[],I=[],E=function e(t,n,a,c){var o={},i=t.automationAction.mappingId;o.id=i,o.type="input",o.data={label:Object(b.jsxs)(b.Fragment,{children:["Node Type:",Object(b.jsx)("strong",{children:t.nodeType}),Object(b.jsx)("br",{}),"Mapping ID:",Object(b.jsx)("strong",{children:t.automationAction.mappingId}),Object(b.jsx)("br",{}),"ExecutionType :",Object(b.jsx)("strong",{children:t.automationAction.executionType})]})},o.position={x:n,y:a},"ROOT"===t.nodeType?o.style={background:"#18e3ed",width:200}:"SUCCESS"===t.nodeType?o.style={background:"#84e384",width:200}:"FAILURE"===t.nodeType?o.style={background:"#f86d6d",width:200}:o.style={background:"#ffff74",width:200,color:"blue"},J(c,t.automationAction.mappingId),S.push(o);var r=t.childActions,s=t.automationAction.mappingId,l=300*c,d=0,j=g()({luminosity:"dark"});r.forEach((function(t){d++;var n=c+1;J(n,t.automationAction.mappingId);var a=N.has(n)?N.get(n).length:1,o=400*a;d!==a&&(o+=10);var i=t.automationAction.mappingId;e(t,o,l,n);var r={};r.id="e"+s+"-"+i,r.source=s,r.target=i,r.type="step",r.animated=!0,r.style={stroke:j},w.push(r)}))},J=function(e,t){var n=N.has(e)?N.get(e):[];-1===n.indexOf(t)&&(n=[].concat(Object(r.a)(n),[t])),N.set(e,n)},L=function e(t,n,a,c,o){var i={},r=t.automationAction.mappingId;i.key=r,i.text=t.nodeType+"\n"+t.automationAction.executionType+"\n"+t.automationAction.mappingId,i.loc=n+" "+a,"ROOT"===t.nodeType?i.color="yellow":"SUCCESS"===t.nodeType?i.color="green":"FAILURE"===t.nodeType?i.color="red":i.color="blue",o&&(i.parent=o),J(c,t.automationAction.mappingId),I.push(i);var s=t.childActions,l=t.automationAction.mappingId,d=300*c,j=0;s.forEach((function(t){j++;var n=c+1;J(n,t.automationAction.mappingId);var a=N.has(n)?N.get(n).length:1,o=400*a;j!==a&&(o+=10),e(t,o,d,n,l)}))};return T?Object(b.jsxs)(l.a.Dialog,{children:[Object(b.jsx)(l.a.Header,{children:Object(b.jsx)(l.a.Title,{children:"Invalid Action Cluster Payload"})}),Object(b.jsx)(l.a.Body,{children:Object(b.jsx)("p",{children:"The JSON passed is not a valid Action Cluster payload"})}),Object(b.jsx)(l.a.Footer,{children:Object(b.jsx)(d.a,{variant:"secondary",onClick:function(){k(!1)},children:"Close"})})]}):""!==y?Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(d.a,{type:"button",onClick:function(){v("")},children:"Hide Chart"})}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"row",children:[""!==y&&Object(b.jsx)("div",{children:Object(b.jsx)(j.a,{bordered:!0,hover:!0,children:Object(b.jsxs)("tbody",{style:{color:"gray",borderColor:"whitesmoke"},children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Cluster Name"}),Object(b.jsx)("td",{children:n.name})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Cluster ID"}),Object(b.jsx)("td",{children:n.clusterID})]}),Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:"Cluster Type"}),Object(b.jsx)("td",{children:n.type})]})]})})}),"REACT_FLOW"===y&&Object(b.jsx)(O,{className:"col-sm-6",data:u}),"}","GOJS"===y&&Object(b.jsx)(C,{className:"col-sm-6",data:u})]})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{style:{"user-select":"none"},className:"text-secondary",children:"Action Cluster Visualizer"}),Object(b.jsx)("textarea",{rows:"6",cols:"200",type:"textarea",placeholder:"Enter Action Cluster JSON payload Here",onChange:function(e){try{var t=JSON.parse(e.target.value);c(t)}catch(n){c({message:"Invalid JSON"})}}}),Object(b.jsx)("br",{}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)(d.a,{className:"col-sm-6",type:"button",variant:"outline-info",onClick:function(){I=[];try{n.actions.forEach((function(e){L(e,100,5,1,void 0)})),console.log(I),h(I),v("GOJS")}catch(e){console.log("Invalid Action Cluster JSON"),k(!0)}},children:"Visualize using GOJS"}),Object(b.jsx)(d.a,{className:"col-sm-6",type:"button",variant:"outline-success",onClick:function(){S=[],w=[];try{var e;n.actions.forEach((function(e){E(e,100,5,1)})),(e=S).push.apply(e,Object(r.a)(w)),h(S),v("REACT_FLOW")}catch(t){console.log("Invalid Action Cluster JSON"),k(!0)}},children:"Visualize using React Flow"})]}),Object(b.jsx)("div",{className:"row",children:Object(b.jsx)(x,{className:"col-sm-6",data:n})})]})}var k=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(T,{})})};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.59a9d4d4.chunk.js.map